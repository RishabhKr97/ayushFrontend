<form [formGroup]="clinicForm">
  <h3>Clinical Services</h3>
  <div formArrayName="services" *ngFor="let service of clinicForm.controls.services.controls;let i=index;">
    <div [formGroupName]="i">
      <div class="form-group">
        <label for="specialityDropdown">Speciality Name</label>
        <select name="specialities" id="specialityDropdown" formControlName="speciality_name">
          <option *ngFor="let speciality of specialities;let k = index;" [selected]="(k == 3)" value="{{k}}">
            {{speciality}}
          </option>
        </select>
      </div>
      <div formArrayName="doctors" *ngFor="let doctor of service.controls.doctors.controls;let j=index;">
        <div [formGroupName]="j">
          <div class="form-group">
            <label for="doctorName">Name</label>

            <input type="text"
                   class="form-control"
                   id="doctorName"
                   formControlName="doctor_name"
            >
          </div>

          <div class="form-group">
            <label for="doctorDiscipline">Discipline</label>

            <input type="text"
                   class="form-control"
                   id="doctorDiscipline"
                   formControlName="department"
            >
          </div>

        </div>

      </div>
      <button type="button" class="btn btn-default" (click)="onAddDoctor(i)">Add Doctor</button>
    </div>

  </div>
  <button type="button" class="btn btn-default" (click)="onAddService()">Add Service</button>
  <button class="btn btn-default" (click)="sendClinic()">Save Clinic</button>
</form>
<form [formGroup]="diagnosticForm">
  <h3>Diagnostic Services</h3>
  <div formArrayName="tests" *ngFor="let diag of diagnosticForm.controls.tests.controls;let l=index">
    <div [formGroupName]="l">
      <div class="form-group">
        <label for="testName">Test Name</label>

        <input type="text"
               class="form-control"
               id="testName"
               formControlName="test_name"
        >
      </div>
      <div class="form-group">
        <label for="testFee">Test Fee</label>

        <input type="number"
               class="form-control"
               id="testFee"
               formArrayName="test_fee"
        >
      </div>

    </div>

  </div>
  <button type="button" class="btn btn-default" (click)="onAddTest()">Add Diagnostic Services</button>
  <button class="btn btn-default" (click)="sendTest()">Save Test</button>
</form>
